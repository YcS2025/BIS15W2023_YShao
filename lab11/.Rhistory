ggplot(aes(x=gdpPercap,y=lifeExp))+
geom_point()+
geom_smooth(method=lm, se=T)+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))+
labs(title = "relationship between per capita GDP and life expectancy",
x = "per capita GDP",
y = "Life expectancy")+
scale_x_log10()
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
namesprefix = "yr",
values_from = pop) %>%
mutate(delta= yr_2007-yr_1952) %>%
arrange(desc(delta))#%>%
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
namesprefix = "yr",
values_from = pop) %>%
mutate(delta= yr_2007-yr_1952) %>%
arrange(desc(delta))
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop) %>%
mutate(delta= yr_2007-yr_1952) %>%
arrange(desc(delta))
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop) %>%
mutate(delta= year_2007-year_1952) %>%
arrange(desc(delta))
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop)
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop) %>%
summarise(growth='2007'-'1952')
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
namesprefix = "yr",
values_from = pop) %>%
mutate(delta= yr_2007-yr_1952) %>%
arrange(desc(delta))
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
namesprefix = "yr",
values_from = pop) %>%
mutate(delta=2007-1952) %>%
arrange(desc(delta))
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop) %>%
mutate(delta=2007-1952) %>%
arrange(desc(delta))
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop) %>%
summarise(delta=$2007-$1952)%>%
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop) %>%
summarise(delta=gapminder$2007-gapminder$1952)%>%
gapminder1<-gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop)
gapminder1
#summarise(delta=gapminder$2007-gapminder$1952)%>%
arrange(desc(delta))
gapminder1<-gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop)
gapminder1%>%
summarise(delta=gapminder$2007-gapminder$1952)%>%
gapminder1<-gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop)
gapminder1%>%
summarise(delta=gapminder$'2007'-gapminder$'1952')%>%
arrange(desc(delta))
gapminder1<-gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop)
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop)
gapminder %>%
mutate(year=as.factor(year))
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop)
gapminder %>%
mutate(year=as.factor(year))%>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop)
gapminder %>%
mutate(year=as.factor(year))%>%
select(country, year, pop)
mutate(1952=as.factor(1952),2007=as.factor(2007))
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop)%>%
mutate(1952=as.factor(1952),2007=as.factor(2007))
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop)%>%
mutate_all(as.factor())
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop)%>%
mutate_all(as.factor(year))
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop)%>%
mutate(across(where(is.integer, as.factor)))
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop)%>%
mutate(across(where(is.integer), as.factor))
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop)%>%
mutate(across(where(is.integer), as.factor))%>%
summarise(delta=gapminder$'2007'-gapminder$'1952')%>%
arrange(desc(delta))
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop)%>%
mutate(across(where(is.integer), as.factor))%>%
summarise(delta='2007'-'1952')%>%
arrange(desc(delta))
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop)%>%
mutate(across(where(is.integer), as.factor))%>%
summarise(delta=2007-1952)%>%
arrange(desc(delta))
#table(fish$lakeid)
library("tidyverse")
getwd()
hot_springs <- readr::read_csv("hsprings_data.csv")
str(hot_springs)
class(hot_springs$scientist)
hot_springs$scientist <- as.factor(hot_springs$scientist)
class(hot_springs$scientist)
levels(hot_springs$scientist)
#summary(fish)
#glimpse(fish)
#nrow(fish) #the number of rows or observations
#ncol(fish) #the number of columns or variables
#dim(fish) #total dimensions
#names(fish) #column names
#head(fish, n = 10)
#tail(fish, n = 10)
table(fish$lakeid)
g1<- gapminder%>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop)%>%
mutate(across(where(is.integer), as.factor))
g1$delta=g1$"2007"-g1$"1952"
g1<- gapminder%>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop)
g1$delta=g1$"2007"-g1$"1952"
g1<- gapminder%>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop)
g1$delta=g1$"2007"-g1$"1952"
g1
gapminder1<- gapminder%>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop)
gapminder1$delta<-gapminder1$"2007"-gapminder1$"1952"
gapminder1
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
namesprefix = "yr",
valuesfrom = pop)
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
namesprefix = "yr_",
valuesfrom = pop)
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
namesprefix = "yr_",
valuesfrom = pop)
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
namesprefix = "yr_",
valuesfrom = pop)
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop)
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop) %>%
mutate(delta=`2007`-`1952`) %>%
arrange(desc(delta))
gapminder%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year,y=lifeExp,color=continent))+
geom_line()+geom_point(shape=7)
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Changes in global average life expectancy by continent",
x = "Year",
y = "Life expectancy")
gapminder%>%
ggplot(aes(x=year,y=lifeExp,color=continent))+
geom_line()+geom_point(shape=7)
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Changes in global average life expectancy by continent",
x = "Year",
y = "Life expectancy")
gapminder%>%
summarise(mean=mean(lifeExp))%>%
ggplot(aes(x=year,y=mean,color=continent))+
geom_line()+geom_point(shape=7)
gapminder%>%
group_by(year,continent)%>%
summarise(mean=mean(lifeExp),.groups = 'keep')%>%
ggplot(aes(x=year,y=mean,color=continent))+
geom_line()+geom_point(shape=7)
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Changes in global average life expectancy by continent",
x = "Year",
y = "Life expectancy")
gapminder %>%
filter(year==1952 | year==2007) %>%
mutate(year=as.factor(year)) %>%
ggplot(aes(x=lifeExp, group=year, fill=year))+
geom_density(alpha=0.5)
gapminder %>%
filter(country=="China" | country=="India" | country=="United States" | country=="Indonesia" | country=="Brazil") %>%
select(country, year, pop) %>%
ggplot(aes(x=year, y=pop, color=country))+
geom_line()
gapminder%>%
ggplot(aes(x=year,y=lifeExp,group=country,color=continent))
#gapminder%>%
group_by(year,continent)%>%
summarise(mean=mean(lifeExp),.groups = 'keep')%>%
ggplot(aes(x=year,y=mean,color=continent))+
geom_line()+geom_point(shape=7)
gapminder%>%
ggplot(aes(x=year,y=lifeExp,group=country,color=continent))+geom_line(alpha=0.5)
#gapminder%>%
group_by(year,continent)%>%
summarise(mean=mean(lifeExp),.groups = 'keep')%>%
ggplot(aes(x=year,y=mean,color=continent))+
geom_line()+geom_point(shape=7)
gapminder%>%
ggplot(aes(x=year,y=lifeExp,group=country,color=continent))+geom_line(alpha=0.5)
gapminder%>%
group_by(year,continent)%>%
summarise(mean=mean(lifeExp),.groups = 'keep')%>%
ggplot(aes(x=year,y=mean,color=continent))+
geom_line()+geom_point(shape=7)
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Changes in global average life expectancy by continent",
x = "Year",
y = "Life expectancy")
gapminder%>%
ggplot(aes(x=year,y=lifeExp,group=country,color=continent))+geom_line(alpha=0.5)
gapminder%>%
group_by(year,continent)%>%
summarise(mean=mean(lifeExp),.groups = 'keep')%>%
ggplot(aes(x=year,y=mean,color=continent))+
geom_line()+geom_point(shape=7)
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Changes in global average life expectancy by continent",
x = "Year",
y = "Life expectancy")
gapminder %>%
filter(country=="China" | country=="India" | country=="United States" | country=="Indonesia" | country=="Brazil") %>%
select(country, year, gdpPercap) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = gdp) %>%
mutate(delta=`2007`-`1952`) %>%
ggplot(aes(x=year, y=delta, color=country))+
geom_line()
knitr::opts_chunk$set(echo = TRUE)
#install.packages("RColorBrewer")
#install.packages("paletteer")
#install.packages("ggthemes")
library(tidyverse)
library(janitor)
library(here)
library(naniar)
library(RColorBrewer)
library(paletteer)
#install.packages("gapminder")
library("gapminder")
summary(gapminder)
anyNA(gapminder)
gapminder%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year,y=lifeExp))+
geom_boxplot()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Changes in global average life expectancy",
x = "Year",
y = "Life expectancy")
gapminder %>%
filter(year==1952 | year==2007) %>%
mutate(year=as.factor(year)) %>%
ggplot(aes(x=lifeExp, group=year, fill=year))+
geom_density(alpha=0.5)
gapminder%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year,y=lifeExp,color=continent))+
geom_boxplot()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Changes in global average life expectancy by continent",
x = "Year",
y = "Life expectancy")
gapminder%>%
ggplot(aes(x=year,y=lifeExp,group=country,color=continent))+geom_line(alpha=0.5)
gapminder%>%
group_by(year,continent)%>%
summarise(mean=mean(lifeExp),.groups = 'keep')%>%
ggplot(aes(x=year,y=mean,color=continent))+
geom_line()+geom_point(shape=7)
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Changes in global average life expectancy by continent",
x = "Year",
y = "Life expectancy")
gapminder%>%
ggplot(aes(x=gdpPercap,y=lifeExp))+
geom_point()+
geom_smooth(method=lm, se=T)+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))+
labs(title = "relationship between per capita GDP and life expectancy",
x = "per capita GDP",
y = "Life expectancy")+
scale_x_log10()
gapminder %>%
select(country, year, pop) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = pop) %>%
mutate(delta=`2007`-`1952`) %>%
arrange(desc(delta))
gapminder %>%
filter(country=="China" | country=="India" | country=="United States" | country=="Indonesia" | country=="Brazil") %>%
select(country, year, pop) %>%
ggplot(aes(x=year, y=pop, color=country))+
geom_line()
gapminder %>%
filter(country=="China" | country=="India" | country=="United States" | country=="Indonesia" | country=="Brazil") %>%
select(country, year, gdpPercap) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = gdpPercap) %>%
mutate(delta=`2007`-`1952`) %>%
ggplot(aes(x=year, y=delta, color=country))+
geom_line()
gapminder %>%
filter(country=="China" | country=="India" | country=="United States" | country=="Indonesia" | country=="Brazil") %>%
select(country, year, gdpPercap)
gapminder %>%
filter(country=="China" | country=="India" | country=="United States" | country=="Indonesia" | country=="Brazil") %>%
select(country, year, gdpPercap) %>%
filter(year==1952 | year==2007) %>%
pivot_wider(names_from = year,
values_from = gdpPercap) %>%
mutate(delta=`2007`-`1952`)
gapminder %>%
filter(country=="China" | country=="India" | country=="United States" | country=="Indonesia" | country=="Brazil") %>%
select(country, year, gdpPercap) %>%
filter(year==1952 | year==2007) %>%
ggplot(aes(x=year, y=delta, color=country))+
geom_line()
gapminder %>%
filter(country=="China" | country=="India" | country=="United States" | country=="Indonesia" | country=="Brazil") %>%
select(country, year, gdpPercap) %>%
filter(year==1952 | year==2007) %>%
ggplot(aes(x=year, y=gdpPercap, color=country))+
geom_line()
knitr::opts_chunk$set(echo = TRUE)
#install.packages("RColorBrewer")
#install.packages("paletteer")
#install.packages("ggthemes")
library(tidyverse)
library(janitor)
library(here)
library(naniar)
library(RColorBrewer)
library(paletteer)
#install.packages("gapminder")
library("gapminder")
summary(gapminder)
anyNA(gapminder)
gapminder%>%
mutate(year=as.factor(year))%>%
ggplot(aes(x=year,y=lifeExp))+
geom_boxplot()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Changes in global average life expectancy",
x = "Year",
y = "Life expectancy")
gapminder %>%
filter(year==1952 | year==2007) %>%
mutate(year=as.factor(year)) %>%
ggplot(aes(x=lifeExp, group=year, fill=year))+
geom_density(alpha=0.5)
gapminder%>%
group_by(year,continent)%>%
summarise(mean=mean(lifeExp),
min=min(lifeExp),
max=max(lifeExp))
#mutate(year=as.factor(year))%>%
#ggplot(aes(x=year,y=lifeExp,color=continent))+
#geom_boxplot()+
#theme(axis.text.x = element_text(angle = 60, hjust=1))+
#labs(title = "Changes in global average life expectancy by continent",
#x = "Year",
#y = "Life expectancy")
gapminder%>%
group_by(continent)%>%
summarise(mean=mean(lifeExp),
min=min(lifeExp),
max=max(lifeExp))
#mutate(year=as.factor(year))%>%
#ggplot(aes(x=year,y=lifeExp,color=continent))+
#geom_boxplot()+
#theme(axis.text.x = element_text(angle = 60, hjust=1))+
#labs(title = "Changes in global average life expectancy by continent",
#x = "Year",
#y = "Life expectancy")
gapminder%>%
group_by(year,continent)%>%
summarise(mean=mean(lifeExp),
min=min(lifeExp),
max=max(lifeExp))
#mutate(year=as.factor(year))%>%
#ggplot(aes(x=year,y=lifeExp,color=continent))+
#geom_boxplot()+
#theme(axis.text.x = element_text(angle = 60, hjust=1))+
#labs(title = "Changes in global average life expectancy by continent",
#x = "Year",
#y = "Life expectancy")
